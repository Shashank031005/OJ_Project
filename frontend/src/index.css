@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --animation-duration: 0.2s;
    --content-width: clamp(320px, 95vw, 1280px);
    
    /* Enhanced color palette */
    --color-primary: 79, 70, 229;
    --color-secondary: 139, 92, 246;
    --color-accent: 236, 72, 153;
    --color-success: 16, 185, 129;
    --color-warning: 245, 158, 11;
    --color-error: 239, 68, 68;
    --color-info: 59, 130, 246;
  }
  
  body {
    @apply bg-gray-50 text-gray-900 antialiased min-h-screen;
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
    @apply touch-manipulation;
    /* Add responsive font size to improve readability on small screens */
    font-size: 16px;
  }

  @media (max-width: 640px) {
    html {
      font-size: 14px;
    }
  }
  
  /* Improve focus styles for accessibility */
  :focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2;
  }

  /* Add proper breakpoint indication for development */
  .show-breakpoint {
    @apply fixed bottom-1 right-1 p-1 bg-black text-white text-xs z-50 opacity-50;
  }

  .show-breakpoint::after {
    content: "xs";
  }

  @screen sm {
    .show-breakpoint::after {
      content: "sm";
    }
  }

  @screen md {
    .show-breakpoint::after {
      content: "md";
    }
  }

  @screen lg {
    .show-breakpoint::after {
      content: "lg";
    }
  }

  @screen xl {
    .show-breakpoint::after {
      content: "xl";
    }
  }

  @screen 2xl {
    .show-breakpoint::after {
      content: "2xl";
    }
  }
}

@layer components {
  /* Button styles */
  .btn {
    @apply inline-flex items-center justify-center px-3 sm:px-4 py-1.5 sm:py-2 border border-transparent text-xs sm:text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200 ease-in-out;
  }
  
  .btn-secondary {
    @apply inline-flex items-center justify-center px-3 sm:px-4 py-1.5 sm:py-2 border border-gray-300 text-xs sm:text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200 ease-in-out;
  }
  
  .btn-small {
    @apply px-2 sm:px-3 py-1 sm:py-1.5 text-xs;
  }
  
  .btn-icon {
    @apply inline-flex items-center justify-center w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200 ease-in-out;
  }
  
  /* Enhanced button styles */
  .btn-gradient {
    @apply inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 transform hover:translate-y-[-2px] hover:shadow-lg;
  }
  
  .btn-gradient-secondary {
    @apply inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 transform hover:translate-y-[-2px] hover:shadow-lg;
  }
  
  /* Card styles */
  .card {
    @apply bg-white shadow-sm hover:shadow transition-shadow duration-200 ease-in-out rounded-lg p-4 sm:p-6;
  }
  
  /* Enhanced card styles */
  .card-glass {
    @apply bg-white bg-opacity-80 backdrop-filter backdrop-blur-lg border border-gray-200 shadow-xl rounded-xl transition-all duration-300;
  }
  
  .card-gradient {
    @apply bg-gradient-to-br from-white to-gray-100 shadow-md hover:shadow-lg transition-shadow duration-200 ease-in-out rounded-xl p-6;
  }
  
  /* Form control styles */
  .input {
    @apply mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm transition-colors duration-200 ease-in-out;
  }

  /* Enhanced input styles */
  .input-modern {
    @apply block w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm;
  }

  /* Badge styles */
  .badge {
    @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-success {
    @apply bg-green-100 text-green-800;
  }

  .badge-warning {
    @apply bg-yellow-100 text-yellow-800;
  }

  .badge-error {
    @apply bg-red-100 text-red-800;
  }

  .badge-info {
    @apply bg-blue-100 text-blue-800;
  }

  /* Table styles */
  .table-container {
    @apply overflow-x-auto rounded-lg shadow;
  }
  
  .table {
    @apply min-w-full divide-y divide-gray-200;
  }
  
  .table-header {
    @apply bg-gray-50;
  }
  
  .table-header-cell {
    @apply px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider;
  }
  
  .table-body {
    @apply bg-white divide-y divide-gray-200;
  }
  
  .table-row {
    @apply hover:bg-gray-50 transition-colors duration-150 ease-in-out;
  }
  
  .table-cell {
    @apply px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500;
  }

  /* Dropdown menu */
  .dropdown {
    @apply relative inline-block text-left;
  }
  
  .dropdown-menu {
    @apply origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-20;
  }
  
  /* Code editor styles */
  .code-editor {
    @apply font-mono text-xs sm:text-sm border rounded bg-gray-50 p-2 sm:p-4 min-h-[200px] w-full resize-y overflow-auto;
  }

  /* Container for limiting max width and centering content */
  .container-fluid {
    @apply w-full mx-auto px-4;
    max-width: var(--content-width);
  }

  /* Responsive padding utility */
  .p-responsive {
    @apply p-3 sm:p-4 md:p-6;
  }

  /* Responsive gap utility */
  .gap-responsive {
    @apply gap-3 sm:gap-4 md:gap-6;
  }

  /* Responsive heading styles */
  .h1 {
    @apply text-xl sm:text-2xl md:text-3xl font-bold;
  }
  
  .h2 {
    @apply text-lg sm:text-xl md:text-2xl font-bold;
  }
  
  .h3 {
    @apply text-base sm:text-lg font-semibold;
  }
  
  /* Glass morphism effect */
  .glass {
    @apply bg-white bg-opacity-70 backdrop-filter backdrop-blur-lg border border-white border-opacity-20 shadow-xl;
  }
  
  .glass-dark {
    @apply bg-gray-900 bg-opacity-70 backdrop-filter backdrop-blur-lg border border-gray-800 border-opacity-20 shadow-xl;
  }
}

/* Page transition animation */
.page-enter {
  opacity: 0;
  transform: translateY(10px);
}

.page-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: opacity var(--animation-duration), transform var(--animation-duration);
}

.page-exit {
  opacity: 1;
}

.page-exit-active {
  opacity: 0;
  transition: opacity var(--animation-duration);
}

/* Enhanced animation set */
@keyframes float {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
  100% { transform: translateY(0px); }
}

@keyframes pulse-glow {
  0% { box-shadow: 0 0 0 0 rgba(var(--color-primary), 0.4); }
  70% { box-shadow: 0 0 0 10px rgba(var(--color-primary), 0); }
  100% { box-shadow: 0 0 0 0 rgba(var(--color-primary), 0); }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
  20%, 40%, 60%, 80% { transform: translateX(5px); }
}

@keyframes bounce-once {
  0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-10px); }
  60% { transform: translateY(-5px); }
}

/* Animation classes */
.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 2s infinite;
}

.animate-shake {
  animation: shake 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
}

.animate-bounce-once {
  animation: bounce-once 1s;
}

/* Loading spinner */
.loading-spinner {
  @apply inline-block h-4 w-4 sm:h-6 sm:w-6 animate-spin rounded-full border-2 border-solid border-current border-r-transparent text-primary-600;
}

/* Code syntax highlighting */
.hljs-keyword, .hljs-selector-tag, .hljs-title, .hljs-section, .hljs-doctag, .hljs-name, .hljs-strong {
  @apply text-pink-600 font-semibold;
}

.hljs-comment {
  @apply text-gray-500;
}

.hljs-string, .hljs-attr {
  @apply text-green-600;
}

.hljs-built_in, .hljs-literal, .hljs-type, .hljs-number, .hljs-params {
  @apply text-blue-600;
}

/* Override default styling for specific elements */
:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

body {
  margin: 0;
  display: flex;
  min-width: 320px;
  min-height: 100vh;
}

h1 {
  font-size: 2.25rem;
  line-height: 1.1;
}

@media (max-width: 640px) {
  h1 {
    font-size: 1.75rem;
  }
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

/* Screen reader only utility */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Gradient text effect */
.text-gradient {
  @apply bg-clip-text text-transparent bg-gradient-to-r;
}

.from-primary-to-accent {
  @apply from-blue-600 to-purple-600;
}

.from-secondary-to-accent {
  @apply from-purple-600 to-pink-500;
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #f9f9f9;
  }
}
